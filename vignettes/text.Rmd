---
title: "Text boxes and decorations"
author: "SPDS, uni.kn"
date: "2019 03 23"
output: 
  rmarkdown::html_vignette: 
    fig_caption: yes
vignette: > 
  %\VignetteIndexEntry{Text}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
options(max.print = "75")
knitr::opts_chunk$set(echo = TRUE,
	             cache = FALSE,
               prompt = FALSE,
               tidy = FALSE,
               collapse = TRUE, 
               comment = "#>",
               message = FALSE,
               warning = FALSE#,
               # ## Default figure options:
               # fig.width = 7.2, 
               # fig.asp = .618, # golden ratio
               # out.width = "75%",
               # fig.align = "center"
               )
```

Beyond providing support for [colors](colors.html), `unikn` provides functions for plotting graphical elements (like boxes) and text decorations (with colored backgrounds or underlining). 
Before illustrating these functions by examples, it's important to note some caveats: 

- Plotting text (i.e., graphically rendering characters) is rarely a good idea. In contrast to the vector fonts used by DTP programs, plotted text typically does not scale (when changing the size of images) and cannot be recognized automatically (e.g., copied, indexed, or scraped). 
Hence, the following functions should only be used when no better solutions are available (e.g., for adding text to graphs, or for obstructing automatic text recognition). 

- Like all other templates, our renderings are subject to constraints and limitations. For instance, as any standard installation of [R](https://www.r-project.org/) lacks the prescribed "Theinhardt" fonts, we only mimic the official design specifications (in Arial, sans serif). 

That said, it's sometimes useful to create digital fluff. Provided that decorative elements can be produced easily and at low cost, they can be used to emphasize and structure information. The `unikn` package helps preventing common mistakes by novices (e.g., boxes or lines extending beyond text, or step-functions in multi-line titles) and can be customized and improved by expert users. Hence, we hope that the following functions are useful for plotting graphical elements (e.g., boxes, logos, etc.) and help you achieve a uniform look when styling your presentations and visualizations. 

Please load the `unikn` package to get started: 

```{r load_pkg, message = FALSE, warning = FALSE}
library(unikn)  # load unikn package
```

## Plotting empty slides and boxes

As the text functions of `unikn` add styled text to an existing plot, we must first create a plot to which we can add text. 
`unikn` provides 2 functions to start a new plot:

1. `slide` plots an empty canvass (or rectangular frame):

```{r slide_def, fig.align = 'center', fig.width = 4, fig.height = 3}
slide()  # plot default slide
```

2. `xbox` plots a colored box with an X in its top right corner:

```{r xbox_def, fig.align = 'center', fig.width = 2, fig.height = 2}
xbox()  # plot default xbox
```

Both commands accept additional arguments to customize their appearance. 

### Colors

The background and border colors of slides can be changed by setting their `col`, `border`, and `lwd` arguments:

```{r slide_col, fig.align = 'center', fig.width = 4, fig.height = 3}
slide(col = pal_seeblau[[1]], border = Petrol, lwd = 5)  # set colors of slide background and border
slide(col = pal_peach[[2]], border = NA)  # colored slide without a border
```

Similarly, the background color of xboxes can be changed by the `col` argument:

```{r xbox_col, fig.align = 'center', fig.width = 2, fig.height = 2}
xbox(col = Pinky)  # set background color of xbox
```

### Dimensions

By default, both `slide` and `xbox` fill the entire plotting region (i.e., all margins are set to 0).

The width of a slide is set to 4/3 of its height (of 1). 
To change this default, use the `dim` argument for specifying the slide's x- and y-dimensions, respectively:

```{r slide_dim, fig.align = 'center', fig.width = 6, fig.height = 2}
slide(dim = c(3, 1))  # a slide 3 times wider than high
```

Similarly, an xbox has the default dimensions of a unit square (i.e., `dim = c(1, 1)`). 
To change this default, use the `dim` argument for specifying the xbox's `x`- and `y`-dimensions, respectively:

```{r xbox_dim, fig.align = 'center', fig.width = 2, fig.height = 4}
xbox(col = Petrol, dim  = c(1, 2))  # an xbox 2 times higher than wide
```

The 2 strokes of the X (in the top right corner) are orthogonal when viewing the `xbox` at the aspect ratio indicated by `dim` (i.e., here: at a ratio of width x = 1 to height y = 2). When viewing the box at any different aspect ratio, the X is distorted. Hence, viewing and printing the image at the desired aspect ratio is crucial for designing an xbox.


## Plotting styled text

Three main functions:

- `mark`
- `line`
- `post`

In addition, two helper functions: 

- `headline`
- `url_unikn`

### Mark text

"Markieren"

### Underline text

"Unterstreichen"

### Post it

"Merken"

### Headlines

Titels

### URLs

One of the more obscure rules (in p. 31 of the CD manual) concerns the rendering of URLs, in which typical web patterns (like "http" or "www") are to be omitted and replaced by a typographical dash (which is longer than a hyphen). The `url_unikn` utility function allows formatting URLs the uni.kn way:

```{r url_post, fig.align = 'center', fig.width = 2, fig.height = 2}
my_url <- url_unikn("https://www.uni-konstanz.de/")  # input URL as copied from web browser
my_url  # formatted URL

post(lbls = my_url, y = .1, font = 4, new_plot = "xbox")  # post at bottom of an xbox
```


## All unikn vignettes

<!-- unikn pkg logo and link: -->
<a href = "https://github.com/hneth/unikn/">
<img src = "../inst/pix/unikn.png" alt = "unikn::" align = "right" width = "140px" style = "width: 140px; float: right; border:0;"/>
</a>

<!-- Index of vignettes: -->

| Nr.  | Vignette | Content    |        
| ---: |:---------|:-----------|
| 1. | [Colors](colors.html) | Colors and color palettes | 
| 2. | [Text](text.html)     | Text boxes and decorations | 


<!-- eof. -->
